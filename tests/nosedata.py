from functools import partial

from sympy import Symbol, sin, cot, pi, E, Abs, tan, S, Rational, log, Eq, sqrt, cos, ln, asin, acos, acot, atan, root, \
    And, oo, Or, Derivative, exp, dsolve, Dummy, limit, diff, Integral, integrate


x = Symbol("x", real=True)
y = Symbol("y")
z = Symbol("z")
a = Symbol("a")
b = Symbol("b")

solve_generic = [
    # sys
    ([x ** 2 + x * y + y ** 2 - 4, x + x * y + y - 2], [{x: 0, y: 2}, {x: 2, y: 0}]),
    ([(x + 1) * (y + 1) - 10, (x + y) * (x * y + 1) - 25], [{x: 1, y: 4}, {x: 4, y: 1}]),
    ([x + y - 1, x ** 4 + y ** 4 - 7], [{x: (1 + sqrt(5)) / 2, y: (1 - sqrt(5)) / 2},
                                        {x: (1 - sqrt(5)) / 2, y: (1 + sqrt(5)) / 2}]),
    ([x ** 2 + y ** 2 - 5 * x * y / 2, x - y - x * y / 4], []),
    ([3 * x - 2 * y - 5, 81 * x ** 4 + 16 * y ** 4 - 6817], []),
    ([x ** 2 + y ** 2 - 1, x - y], []),
    ([x + x * y + y - 11, x ** 2 * y + x * y ** 2 - 30], []),
    ([2 * x ** 2 - 3 * x * y + y ** 2, y ** 2 - x ** 2 - 12], []),
    ([x ** 2 + y ** 4 - 20, 2 * x ** 4 + 2 * y ** 2 - 40], []),
    # lin-sys
    ([x - 3 * y + z - 4, 2 * x - 8 * y + 8 * z + 2, -6 * x + 3 * y - 15 * z - 9], []),
    ([x - 3 * y + z - 4, 2 * x - 8 * y + 8 * z + 2, ], []),
    ([x - 3 * y + z - 4, 2 * x - 8 * y + 8 * z + 2, 2 * x - 8 * y + 8 * z + 3], []),
    ([y + z - 1, x - y + z, 2 * x - 2 * y + 2 * z, 2 * x + y, 2 * x + y, y + z - 1, y + z - 1],
     [{x: -S(1) / 5, z: S(3) / 5, y: S(2) / 5}]),
    ([y + z - 1, y + z, 2 * x - 2 * y + 2 * z, 2 * x + y, 2 * x + y, y + z - 1, 2 * y + z - 1], []),
    ([x - y + 2 * z + 3, 4 * x + 4 * y - 2 * z - 1, -2 * x + 2 * y - 4 * z - 6], []),
    ([x - y, x + y + a], []),
    ([x - y, 2 * x - 2 * y, -x + y - 3], []),
    # abs
    (abs(x) - 5, []),
    (abs(3 * x + 4) - 7, []),
    (abs(2 - 5 * x) + 3, []),
    (abs(2 * x - 5) - abs(4 - x) + 18, []),
    (abs(abs(x) - 3) - 15, []),
    (abs(x ** 2 - 1 * x) - 2, []),
    # av
    (sin(3 * x) * cot(4 * x), []),
    (sin(6 * x) / sin(4 * x), []),
    (sin(2 * x) * sin(4 * x) * sin(6 * x) / sin(x), []),
    # exp
    (2 ** (pi * x + E) - 4, []),
    (2 ** x - 8, []),
    (5 ** (x + 2) - 125, []),
    (2 ** (2 * x) - 8 ** (x + 1), []),
    (3 ** (2 * x + 4) - 11 * 9 ** x - 210, []),
    (4 ** x - 3 * 2 ** x + 2, []),
    (2 ** (5 * x - 1) * 3 ** (3 * x - 1) * 5 ** (2 * x - 1) - 720 ** x, []),
    # ineq
    ([x ** 2 - 5 * x + 3 > 0], []),
    ([x ** 2 - 5 * x + 3 <= 0], []),
    ([x ** 2 - 5 * x + 3 < 0], []),
    ([x ** 2 - 5 * x + 3 >= 0, x > 0], []),
    ([(x ** 2 - 5 * x + 3) / (x - 3) >= 0], []),
    ([Abs(4 * x + 1) - 4 > 0], []),
    ([tan(x) < S(1) / 2], []),
    ([tan(x) <= S(1) / 2], []),
    ([tan(x) > S(1) / 2], []),
    ([tan(x) >= S(1) / 2], []),
    ([cot(x) < S(1) / 2], []),
    ([cot(x) <= S(1) / 2], []),
    ([cot(x) > S(1) / 2], []),
    ([cot(x) >= S(1) / 2], []),
    ([sin(x) < -2], []),
    ([sin(x) < 2], []),
    ([sin(x) < 1], []),
    ([sin(x) <= 1], []),
    ([sin(x) > -1], []),
    ([sin(x) >= -1], []),
    ([sin(2 * x) < 0], []),
    ([sin(2 * x + 1) < 0], []),
    # poly
    (5 * x ** 2 + 2, []),
    (4 * x ** 2 + 3 * x, [S(0), S(-3) / 4]),
    (2 * x ** 2 - 10 * x + 12, []),
    (3 * x ** 3 + 5 * x ** 2 + 2 * x - 4, []),
    (6 * x ** 3 - 11 * x ** 2 - 2 * x + 8, []),
    (x ** 4 + 5 * x ** 2 + 1, []),
    (x ** 4 + x ** 3 - 11 * x ** 2 - 5 * x + 30, []),
    (36 * x ** 4 - 13 * x ** 2 + 1, []),
    (179 * x ** 5 - 12351 * x ** 4 + 22557 * x ** 3 + 95737 * x ** 2 + 378 * x + 1608, []),
    ((x + 1) ** 4 + 5 * (x + 1) ** 2 + 1 * (x + 1), []),
    ((x ** 2 + 6 * x + 2) * (x ** 2 - 4 * x + 2), []),
    (((x + 1) ** 4) ** 2 + 5 * (x + 1) ** 4 + 1, []),
    ((3 * x + 2) ** 4 - 13 * (3 * x + 2) ** 2 + 36, []),
    ((x + 1) * (x + 2) * (x + 3) * (x + 4) - 24, []),
    ((8 * x + 7) ** 2 * (4 * x + 3) * (x + 1) - Rational(9, 2), []),
    # log
    (log(x, 2) - 10, []),
    (log(50 * x - 1, 7) - 5, []),
    (log(x, Rational(1, 3)) - 2, []),
    (log(2 * x - 1, Rational(1, 3)) - 2, []),
    (log(8, x - 1) - 1, []),
    (ln(E ** 2 + 2 * x - 3) - 2, []),
    (log(x, 3) - log(9, 3), []),
    (log(x ** 2 - 3, 3) - log(2 * x, 3), []),
    (2 * log((x - 1) ** 2, 7) + log((2 * x + 9) / (7 * x + 9), sqrt(7)), []),
    (log(x + 1) ** 2 + 10 - 11 * log(x + 1), []),
    (log(x ** 2 + 9 * x, 10) + log((x + 9) / x, 10), [S(-10)]),
    (log(6 * sin(x) + 4, 3) * log(6 * sin(x) + 4, 5) - log(6 * sin(x) + 4, 3) - log(6 * sin(x) + 4, 5), []),
    (log(x ** 2 + 5 * x - 6, 2) - log(4 * x, 2), []),
    (log((x ** 3 - 5 * x ** 2) / (x - 5), 5) - 2, []),
    (log(2 * x) ** 2 + 3 * log(2 * x) + 2, []),
    # trig
    (Eq(cos(5 * x - pi / 6), sqrt(2) / 2), []),
    (Eq(tan(x ** 2 + 4 * x + pi / 4), 1), []),
    (Eq(sin(6 * x - pi / 3), sin(2 * x + pi / 4)), []),
    (Eq(cos(x ** 2), cos(4 * x - 3)), []),
    (Eq(6 * sin(x) ** 2 - 5 * sin(x) + 1, 0), []),
    (Eq(cos(6 * x + pi / 6) ** 2, Rational(1, 2)), []),
    (Eq(cos(3 * x ** 2) ** 2, Rational(3, 4)), []),
    (Eq(5 * sin(x) ** 2 + 3 * sin(x) + 4 * cos(x) ** 2, 5 + Rational(3, 4)), []),
    (Eq(sin(x) ** 4 + 3 * cos(x) - cos(x) ** 4 - 2, 0), []),
    (sin(x), []),
    (sin(x) - 1, []),
    (sin(x) + 1, []),
    (3 * sin(x) - 1, []),
    (sin(x) + 5 * sin(x), []),
    (sin(x) - Rational(1, 2), []),
    (sin(x) - sqrt(2) / 2, []),
    (sin(x) - Rational(1, 3), []),
    (cos(x), []),
    (cos(x) + 1, []),
    (cos(x) - 1, []),
    (tan(x) + -sqrt(3), []),
    (cot(x) - 1, []),
    (sin(2 * x) - Rational(1, 2), []),
    (sin(2 * x / 3), []),
    (sin(2 * x / 5 - 1), []),
    (sin(3 * x + pi / 4) + 1, []),
    (cos(x / 3) + sqrt(2) / 2, []),
    (tan(pi / 4 - x / 2) + 1, []),
    (cot(pi / 6 - x) - sqrt(3) / 3, []),
    (asin(x) - 1, []),
    (asin(2 * x + 1) - 0, []),
    (asin(x) + 4, []),
    (acos(x - 3) - pi / 2, []),
    (acos(x) + 1, []),
    (atan(x) - pi, []),
    (acot(2 * x - 4) - pi / 3, []),
    (5 * cos(x) ** 2 - 5 * cos(x) + 1, []),
    (8 * cos(x) ** 2 + 6 * sin(x) - 3, []),
    (3 * tan(x) ** 3 + tan(x), []),
    (sin(3 * x) * cos(4 * x), []),
    (sin(x) + sin(2 * x) + sin(3 * x), []),
    (2 * sin(x) + 3 * sin(2 * x) + 2 * sin(3 * x), []),
    # vilenkin
    (x ** sqrt(x) - x ** (x / 2), [0, 1, 4]),
    (4 - log(x, 10) - 3 * sqrt(log(x, 10)), [S(10)]),
    (log(x, S(1) / 2) + log(x, 3) - 1, [3 ** log(2 ** (S(1) / (-log(3) + log(2))))]),
    (x ** log(x, 10) - x ** 100, [1, 10 ** 100]),
    (sin(3 * x) * cos(2 * x) * tan(7 * x), []),
    (cos(x ** 2) + cos(5 * x ** 2), []),
    (sqrt(3) * sin(x) + cos(x) - sqrt(2), []),
]

solve_9 = [
    (x ** 3 - 5 * x ** 2 + 8 * x - 6, [S(3)]),
    (Eq(5 * x ** 5, -160), [S(-2)]),
    (Eq(2 ** (2 * x + 1), 32), [S(2)]),
    (Eq(S(1) / 9 ** (2 * x - 5), 3 ** (5 * x - 8)), [S(2)]),
    (Eq(root(2, 3) ** x - 1, S(2) / (root(2, 3) ** (2 * x))), [S(-1) / 3]),  # error in equation?
    (Eq((S(1) / 7) ** (3 * x + 3), 7 ** (2 * x)), [S(-3) / 5]),
    ([2 * x - 3 * y - 1, 2 * x ** 2 - x * y - 3 * y ** 2 - 3], [{x: S(2), y: S(1)}]),
    ([x * y - 10, S(1) / x - S(1) / y + S(3) / 10], [{x: S(-2), y: S(-5)}, {x: S(5), y: S(2)}]),
    ([x ** 2 - y ** 2 - 12, x ** 2 + y ** 2 - 20], [{x: S(-4), y: S(-2)}, {x: S(4), y: S(2)}]),
    ([x * y ** 2 + x * y ** 3 - 10, x + x * y - 10], [{x: 5, y: 1}]),
    ([x ** 3 + 27 * y ** 3 - 54, x ** 2 - 6 * x * y + 9 * y ** 2], [{x: 3, y: 1}]),
    ([x - y - 5, sqrt(x) + sqrt(y) - 3], [{x: 1, y: 4}, {x: 4, y: 1}]),
    ([x * z + y * z - 16, x * y + y * z - 15, x * z + x * y - 7], [{x: 1, y: 3, z: 4}, {x: -1, y: -3, z: -4}]),
    (x ** 5 - 2 * x ** 4 - 3 * x ** 3 + 6 * x ** 2 - 4 * x + 8, [S(-2), S(2)]),
    (x ** 2 - 5 * x + 6 >= 0, Or(And(-oo < x, x < 3), And(3 < x, x < oo))),
    (Eq(sin(a) - cos(a), S(6) / 10), [S(32) / 100]),
    (x / (x ** 2 - 16) + (x - 1) / (x + 4) - 1, [S(5)]),
    ((2 * x + 3) / 5 + (7 * x - ((3 - x) / 2)) - (((7 * x + 11) / 3) + 1), [S(1)]),
    ([2 * x + 6 * y - 18, 3 * x - 5 * y + 29], [{x: -3, y: 4}]),
    ((3 * x - 2) / (2 * x + 5) - (x + 4) / (x - 10), [S(45) / 100]),
]
solve_9_hangs = [
    (Eq(x ** (-S(1) / 4), 2), [S(1) / 16]),
    (Eq(root(x - 2, 2), root(3 * x, 6)), [S(2)]),
    (Eq(sqrt(x - 7) - sqrt(x + 17), -4), [S(8)]),
    (Eq(sqrt(2 - 2 * x), x + 3), [S(-1)]),
    (sqrt(5 * x + 11) > x + 3, Or(And(S(-22) / 10 < x, x < -2))),
    (6 - sqrt(x + 3), [S(33)]),
    (sqrt((x - 1) ** 2) - 1, [S(2), S(0)]),
    (sqrt(x + 3) + 5 - 7 * x, [S(1)]),
]
k = Dummy('k')
n = Dummy('n')
solve_10 = [
    ([(3 - x) <= 2, (2 * x) + 1 <= 4], And(1 <= x, x <= S(3) / 2)),
    ([(x ** 2) - 1 >= 0, x > 2], x > 2),
    ((S(1) / 2) ** x > S(1) / 4, x < 2),
    ((S(7) / 9) ** (2 * (x ** 2) + 3 * x) >= S(9) / 7, And(S(1) / 2 <= x, x <= 1)),
    (2 ** (x - 1) + 2 ** (x + 3) > 17, x > 1),
    (25 * Rational(4, 100) ** (2 * x) > Rational(2, 10) ** (x * (3 - x)), And(-2 < x, x < 1)),
    ([x - y - 2, 3 ** (x ** 2 + y) - S(1) / 9], [{x: S(0), y: S(-2)}, {x: S(-1), y: S(-3)}]),
    ([3 ** (3 * x - 2 * y) - 81, (3 ** (6 * x)) * (3 ** y) - 27], {x: S(2) / 3, y: -1}),
    ([2 ** x + 2 ** y - 6, 2 ** x - 2 ** y - 2], {x: 2, y: 1}),
    ([5 ** x - 5 ** y - 100, 5 ** (x - 1) - 5 ** (y - 1) - 30], {x: 3, y: 2}),
    ([(Rational(2, 10) ** y) ** x - Rational(8, 1000), Rational(4, 10) ** y - Rational(4, 10) ** (Rational(35, 10) - x),
      (2 ** x) * (Rational(5, 10) ** y) < 1],
     {x: S(3) / 2, y: S(2)}),
    (4 ** (abs(x + 1)) > 16, Or(x < -3, x > 1)),
    (5 ** (abs(x + 4)) < 25 ** (abs(x)), x > 4),
    (abs(x ** 2 - 7 * x + 12), []),
    (2 * (abs(x - 3)) + 5, []),
    (abs((-x) ** 2 + 6 * x + 7), []),
    (abs((2 * x - 3) / (x + 4)), []),
    (1 / (abs(x ** 2 - 3 * x - 2)), []),
    (1 / (abs(x ** 2 - 4)), []),
    ((x + 2) ** 2 + 2 * abs(x + 2) + 3 - 0, []),
    (x ** 3 + 8 - 3 * x * (abs(x + 2)), []),
    (x ** 4 + x ** 2 + 4 * (abs(x ** 2 - x)) - 2 * (x ** 3) - 12, []),
    (abs(abs(x - 1) + 2) - 1, []),
    (4 / (abs(x + 1) - 2) - abs(x + 1), []),
    (abs((x ** 2 - 4 * x + 3) / (x ** 2 + 7 * x + 10)) + (x ** 2 - 4 * x + 3) / (x ** 2 + 7 * x + 10), []),
    ((abs(x ** 2 - 4 * x) + 3) / (x ** 2 + abs(x - 5)) - 1, []),
    ((2 * x - 1) / (abs(x + 1)) + abs(3 * x - 1) / (x + 2) - 4, []),
    (abs(x - 6) <= abs(x ** 2 - 5 * x + 2), []),
    (abs(2 * x + 3) < abs(x) - 4 * x + 1, []),
    ((2 * (x ** 2) + 15 * x - 10 * (abs(2 * x + 3)) + 32) / (2 * (x ** 2) + 3 * x + 2) < 0, []),
    (log((x + 3), 7) - 2, [S(46)]),
    (log((x - 1), 10) - log((2 * x - 11), 10) - log(2, 10), [S(7)]),
    ((S(1) / 2) * log(((x ** 2) + x - 5), 10) - log((5 * x), 10) - log((S(1) / (5 * x)), 10), [S(2)]),
    (log((3 * x + 1), 2) * log(x, 3) - 2 * (log((3 * x + 1), 2)), [S(1)]),
    (log((x ** 3), 3), [S(1)]),
    ([log(x, 10) - log(y, 10) - 7, log(x, 10) + log(y, 10) - 5], [{x: S(10) ** 6, y: S(1) / 10}]),
    (log(16, (x ** 2)) - log(7, sqrt(x)) - 2, [S(2) / 7]),
    (sqrt(2 * (log(x, 2) ** 2)) + 3 * (log(x, 2)) - 5 - log(2 * x, 2), [S(2) ** (-3 * sqrt(2) + 6)]),
    (log(2 * x ** 2 + x, 10) - log(6, 3) + log(2, 3), [S(-5) / 2, S(2)]),
    (log(x - 2, 10) + log(x, 10) - log(3, 10), [S(3)]),
    (Rational(13, 10) ** (3 * x - 2) - 3, [Rational(1, 3) * (log(3, Rational(13, 10)) + 2)]),
    (log(x, 3) + log(x, (sqrt(3))) + log(x, (S(1) / 3)) - 6, [S(27)]),
    (log(((x ** 2) - 12), 5) - log((-x), 5), [S(-4)]),
    (log(x, (sqrt(2))) + 4 * (log(x, 4)) + log(x, 8) - 13, [S(8)]),
    (log((x + 8) / (x - 1), 10) - log(x, 10), [S(4)]),
    (3 + 2 * (log(3, (x + 1))) - 2 * log((x + 1), 3), [S(8), sqrt(3) - 1]),
    (log((2 * x - 5), 2) - log((2 * x - 2), 2) - 2 * x, [S(3)]),
    (log(x, 2) * log((x - 3), 2) + 1 - log(((x ** 2) - 3 * x), 2), [S(5)]),
    (log(x, 3) ** 2 + 5 * log(x, 9) - S(3) / 2, [S(3) ** (-3), sqrt(3)]),
    (4 ** (2 * x + 3) - 5, [(log(5, 4) - 3) / 2]),
    (log(sqrt(5), x) + 4, [Rational(1, 5) ** Rational(1, 8)]),
    (log(x, 5) - 4 * 1, [S(625)]),
    (3 ** x + 9 ** (x - 1) - 810, [S(4)]),
    ((S(1) / 7) ** (x ** 2 - 2 * x - 2) - S(1) / 7, [S(-1), S(3)]),
    (3 ** (x + 4) + 3 * 5 ** (x + 3) - 5 ** (x + 4) - 3 ** (x + 3), [S(-3)]),
    (Eq(5 ** (3 * x) + 3 * (5 ** (3 * x - 2)), 140), [S(1)]),
    (Eq(10 ** x, root(10000, 4)), [S(1)]),
    (Eq(Rational(1, 2) ** (1 / x), 4 ** (1 / (x + 1))), [S(-1) / 3]),
    (16 ** x - 17 * (4 ** x) + 16, [S(0), S(2)]),
    (Eq(3 ** x, 5 ** (2 * x)), [S(0)]),
    (Eq(1 / (3 * x + 1) - 2 / (3 * x - 1) - 5 * x / (9 * x ** 2 - 1), 3 * x ** 2 / (1 - 9 * x ** 2)), [S(3)]),
]

solve_10_trig = [
    (cos(x) - 1, [2 * pi * k]),
    (cos(5 * x + 4 * pi), [((-4 * pi) / 5) + ((2 * pi) / 5) * k]),
    (cos((5 * pi) / 2 + x) + 1, [(-3 * pi) / 2 + 2 * pi * k]),
    (2 * (sin(x) ** 2) + 3 * (cos(x) ** 2) - 2, [pi / 2 + pi * k]),
    (cos((-2) * x) - 1, [pi * k]),
    (sqrt(2) * cos((pi / 4) + x) - cos(x) - 1, [-pi / 2 + 2 * pi * k]),
    (sin(x) ** 2 + cos(2 * x), [pi / 2 + pi * k]),
    (1 - cos(x) - 2 * sin(x / 2), [pi + 4 * pi * k]),
    (cos(x - pi), [pi / 2 + pi * k]),
    (cos(x) + (sqrt(3)) / 2, [+-(5 * pi) / 6 + 2 * pi * k]),
    (2 * cos(x / 3) - sqrt(3), [+-(pi / 2) + (6 * pi * k)]),
    (cos(x) * cos(3 * x) - sin(3 * x) * sin(x), [pi / 8 + (pi / 4) * k]),
    (4 * (cos(x) ** 2) - 3, [+-(pi / 6) + pi * k]),
    (2 * sqrt(2) * (cos(x) ** 2) - 1 - sqrt(2), [+-(pi / 8) + pi * k]),
    (cos(4 * x) - sqrt(2) / 2, [-pi / 16, pi / 16]),
    (cos(x) + Rational(27, 100), [+-(pi - acos(Rational(27, 100))) + 2 * pi * k]),
    (sin(x) - sqrt(2) / 2, [((-1) ** k) * asin(sqrt(2) / 2) + pi * k]),
    (sin(2 * x) + 1, [-pi / 4 + pi * k]),
    (sin(x + (3 * pi) / 4), [-(3 * pi) / 4 + pi * k]),
    (sqrt(3) + 4 * sin(x) * cos(x), [((-1) ** (k + 1)) * (pi / 6) + (pi / 2) * k]),
    (Eq(1 - sin(x) * cos(2 * x), (cos(2 * x)) * (sin(x))), [(pi / 6) + ((2 * pi) / 3) * k]),
    (asin(3 - 2 * x) + pi / 4, [(6 + sqrt(2)) / 4]),
    (tan(x) + 1, [-pi / 4 + pi * k]),
    (1 + tan(x / 3), [-(3 * pi) / 4 + 3 * pi * k]),
    ((sqrt(3) * tan(x) + 1) * (tan(x) - sqrt(3)), [-pi / 6 + pi * k, pi / 3 + pi * k]),
    (atan(3 - 5 * x) + (pi / 3), [(3 + sqrt(3)) / 5]),
    (tan(x) + S(78) / 10, [-atan(S(78) / 10) + pi * k]),
    (sin(x) ** 2 - S(1) / 4, [+-pi / 6 + pi * k]),
    (2 * (sin(x) ** 2) + 3 * cos(x), [+-(2 * pi) / 3 + 2 * pi * k]),
    (tan(x) - cot(x), [+-pi / 4 + pi * k]),
    (3 + sin(2 * x) - 4 * (sin(x) ** 2), [-pi / 4 + pi * k, atan(3) + pi * k]),
    (sin(2 * x) - cos(3 * x), [-pi / 2 + 2 * pi * k, pi / 10 + ((2 * pi) / 5) * k]),
    (cos(x) + cos(3 * x) - 4 * (cos(2 * x)), [pi / 4 + (pi / 2) * k]),
    ((tan(x) - sqrt(3)) * (2 * sin(x / 12) + 1), [pi / 3 + pi * k, 2 * pi * S(-1) ** (k + 1) + 12 * pi * k]),
    (sqrt(3) * sin(x) * cos(x) - sin(x) ** 2, [pi * k, pi / 3 + pi * k]),
    (2 * (sin(x) ** 2) - 1 - (S(1) / 3) * (sin(4 * x)), [pi / 4 + (pi / 2) * k]),
    (sin(2 * x) + 3 - 3 * sin(x) - 3 * cos(x), [(-1) * (pi / 4) - (pi / 4) + pi * k]),
    (sqrt(2) * cos(x - pi / 4) - (sin(x) + cos(x)) ** 2,
     [-pi / 4 + pi * k, ((-1) ** k) * (pi / 4) - (pi / 4) + pi * k]),
    (sin(2 * x) ** 2 + cos(3 * x) ** 2 - 1 - 4 * sin(x), [pi * k]),
    (4 * sin(3 * x) + sin(5 * x) - 2 * sin(x) * cos(2 * x), [(pi / 3) * k]),
    (sin(x) ** 6 + cos(x) ** 6 - S(1) / 4, [pi / 4 + (pi / 2) * k]),
    (sin(x) * cos(4 * x) + 1, [-pi / 2 + 2 * pi * k]),
    ([cos(x + y), cos(x - y) - 1], [{x: pi / 4 + (pi / 2) * k + pi * n, y: pi / 4 + (pi / 2) * k}]),
    (2 * cos(pi / 3 - 3 * x) - sqrt(3), [pi / 6 + (2 * pi / 3) * k, pi / 2 + ((2 * pi) / 3) * k]),
    (1 - sin(x / 2 + pi / 3), [pi / 3 + 4 * pi * k]),
    ((1 - sqrt(2) * cos(x)) * (1 + 2 * sin(2 * x) * cos(2 * x)), [+-pi / 4 + 2 * pi * k, -pi / 8 + (pi / 2) * k]),
    (sqrt(3) - tan(x - pi / 5), [(8 * pi) / 15 + pi * k]),
    (cos(x) ** 2 - 2 * cos(x), [pi / 2 + pi * k]),
    (cos(x) - cos(3 * x), [(pi / 2) * k]),
    (cos(2 * x) + 3 * sin(2 * x) - 3, [pi / 4 + pi * k, atan(S(1) / 2) + pi * k]),
    (1 + 3 * cos(x) - sin(2 * x) - 3 * sin(x), [pi / 4 + pi * k]),
    (sin(x) + sin(2 * x) + sin(3 * x), [(pi / 2) * k, +-(2 * pi) / 3 + 2 * pi * k]),
    ((cos(3 * x)) / (cos(x)), [pi / 6 + pi * k, (5 * pi) / 6 + pi * k]),
    (cos(x) ** 2 + cos(2 * x) ** 2 + cos(3 * x) ** 2 - S(3) / 2, [pi / 8 + (pi / 4) * k, +-pi / 3 + pi * k]),
    ([sin(y) * cos(y) - (S(1) / 2), sin(2 * x) + sin(2 * y)],
     [{x: pi / 6 + 2 * pi * k + 2 * pi * n, y: (5 * pi) / 6 + 2 * pi * n}]),

]
solve_10_hangs = [
    ((log(x + 1, 10)) ** 2 - (log((x + 1), 10)) * (log((x - 1), 10)) - 2 * (log((x + 1) ** 2, 10)), [sqrt(2), 3]),
    (Eq(sqrt(x + 3), sqrt(5 - x)), [S(1)]),
    (Eq(sqrt(1 - 2 * x) - sqrt(13 + x), sqrt(x + 4)), [S(-4)]),
    (3 - x - sqrt(9 - sqrt(36 * (x ** 2) - 5 * (x ** 4))), [S(0), S(2)]),
    ((sqrt(3 - x) + sqrt(3 + x)) / (sqrt(3 - x) - sqrt(3 + x)) - 2, [-S(24) / 10]),
    (Eq(sqrt(x + 3), sqrt(5 - x)), [S(1)]),
    (Eq(sqrt(x + 3), sqrt(5 - x)), [S(1)]),
    (sqrt(5 * cos(x) - cos(2 * x)) + 2 * (sin(x)), [-acos((sqrt(65) - 5) / 4) + 2 * pi * k]),
    ([(5 ** (x + 1)) * (3 ** y) - 75, (3 ** x) * (5 ** (y - 1)) - 3], {x: 1, y: 1}),

    (root(2 * x, 3) < 3, x < S(135) / 10),
    (sqrt(2 * x) <= 2, And(0 <= x, x <= 2)),
    (sqrt(3 - x) < 5, And(-22 < x, x <= 3)),
    (sqrt(2 * x - 3) > 4, x > S(95) / 10),
    (sqrt(3 * x - 5) < 5, And(1 + S(2) / 3 <= x, x < 10)),
    (sqrt(1 - (x ** 2)) < 1, Or(And(-1 <= x, x < 0), And(0 < x, x <= 1))),
    (sqrt(25 - (x ** 2)) > 4, And(-3 < x, x < 3)),
    (sqrt(6 * x - x ** 2) < sqrt(5), Or(And(0 <= x, x < 1), And(5 < x, x <= 6))),
    (sqrt(3 + 2 * x) >= sqrt(x + 1), x >= -1),
    (sqrt(x + 3) < sqrt(7 - x) + sqrt(10 - x), And(4 + (S(2) / 3) <= x, x < 6)),
    (sqrt(x + 1) < x - 1, x > 3),
    (sqrt(3 + x) > sqrt(7 + x) + sqrt(10 + x), And(-6 < x, x <= 3)),
    (sqrt(3 - abs(x)) > x, []),
    (sqrt(4 * x + 5) > abs(x - 1), []),
    (root((x ** 2) - (4 * abs(x)), 3) > root((abs(3 - 2 * x)), 3), []),
    (sqrt(abs(x) + 1) - sqrt(abs(x)) - a, []),
    (sqrt(abs(x - 3) + 2) - 3, []),
    (sqrt(5 - abs(1 - x ** 2)) - 2, []),
    (sqrt(3 - abs(x + 3)) - (x + 2), []),
]

C1 = Symbol('C1')
C2 = Symbol('C2')
C3 = Symbol('C3')
C4 = Symbol('C4')

dsolve_generic = [
    (Derivative(y(x), x) - 3 * y(x) * x, Eq(y(x), C1 * exp(3 * x ** 2 / 2))),  # separable

    (y(x).diff(x, 4) + 2 * y(x).diff(x, 3) - 2 * y(x).diff(x, 2) - 6 * y(x).diff(x) + 5 * y(x),
     Eq(y(x), (C1 + C2 * x) * exp(x) + (C3 * sin(x) + C4 * cos(x)) * exp(-2 * x))),  # LHDE with CC

    (y(x).diff(x) - y(x) - y(x) ** 2 * exp(x), Eq(y(x), exp(x) / (C1 - exp(2 * x) / 2))),  # Bernoulli eq

    (y(x).diff(x, 2) * x ** 2 - 4 * y(x).diff(x) * x + 6 * y(x), Eq(y(x), x ** 2 * (C1 + C2 * x))),  # Euler eq

    (cos(y(x)) - (x * sin(y(x)) - y(x) ** 2) * y(x).diff(x), Eq(x * cos(y(x)) + y(x) ** 3 / 3, C1)),  # exact

    (y(x).diff(x, 2) + 2 * y(x).diff(x) + y(x) - 4 * exp(-x) * x ** 2 + cos(2 * x),
     Eq(y(x), (C1 + C2 * x + x ** 4 / 3) * exp(-x) - 4 * sin(2 * x) / 25 + 3 * cos(2 * x) / 25)),

    (y(x).diff(x, 3) - 3 * y(x).diff(x, 2) + 3 * y(x).diff(x) - y(x) - exp(x) * log(x),
     Eq(y(x), (C1 + C2 * x + C3 * x ** 2 + x ** 3 * (6 * log(x) - 11) / 36) * exp(x))),
]

dsolve_func = partial(dsolve, func=y(x))

h = Symbol('h')
t = Symbol('t')
n = Symbol('n')

limit_data = [
    ((1 + (1 / (7 ** n)), n, oo), 1),
    (((3 - (2 ** n)) / (2 ** n), n, oo), -1),
    ((3 / (2 ** n) - 1, n, oo), -1),
    ((1 / (4 ** n), n, oo), 0),
    ((Rational(1, 5) ** n, n, oo), 0),
    (((((S(3) / 5) ** n) - 2), n, oo), -2),
    ((1 - (1 / (2 ** n)), n, oo), 1),
    (((Rational(-13, 10) ** n), n, oo), 0),
    ((((3) ** (n + 2) + 2) / (3 ** n), n, oo), 9),
    ((((9 * (3 ** n) + 2) / (3 ** n)), n, oo), 9),
    ((9 + (2 / (3 ** n)), n, oo), 9),
    (((((5 ** n) + 1) ** 2) / (5 ** (2 * n)), n, oo), 1),
    (((5 ** (2 * n) + 1 + 2 * (5 ** n)) / (5 ** (2 * n)), n, oo), 1),
    ((1 + (1 / (5 ** (2 * n)) + (2 / (5 ** n))), n, oo), 1),
    (((6 - 7 / (n ** 2) - 3 / n - 3 / (sqrt(n))), n, oo), 6),
    (((1 / n) + 3 / (sqrt(n)) - 4 + 7 / (n ** 2), n, oo), -4),
    (((5 * n + 3) / (n + 1), n, oo), 5),
    ((((2 * n + 1) / (3 * n - 1)), n, oo), S(2) / 3),
    ((((S(1) / 2) * (5 ** (-n))), n, oo), 0),
    (((2 * (n ** 2) - 1) / (n ** 2), n, oo), 2),
    (((3 - (n ** 2)) / (n ** 2), n, oo), -1),
    (((2 * n + 1) * (n - 3) / (n ** 2), n, oo), 2),
    ((((3 * n - 2) * (2 * n + 3)) / (n ** 2), n, oo), 6),
    ((((n ** 2) * (2 * n + 5) - 2 * (n ** 3) + 5 * (n ** 2) - 13) / (n * (n + 1) * (n - 7) + 1 - n), n, oo), 0),
    ((((1 - n) * (n ** 2) + 1 + (n ** 3)) / ((n ** 2) + 2 * n), n, oo), 1),
    (((1 / (x ** 2)) + (3 / (x ** 3)), x, oo), 0),
    (((2 / (x ** 9)) + 1, x, oo), 1),
    ((7 / (x ** 2) - 7, x, oo), -7),
    (((12 - 1 / (x ** 2)) * (16 / (x ** 7)), x, oo), 0),
    ((((5 / (x ** 3) + 1) * ((-8) / (x ** 2) - 2)), x, oo), -2    ),
    (((6 * x + 3 * h - 5), h, 0), 6 * x - 5),
    ((((-6) * x - 3 * h), h, 0), (-6) * x),
    ((10 * t + 5 * h, h, 0), 10 * t),
    ((2 * t + h, h, 0), 2 * t),
]

limit_func = lambda args: limit(*args)

diff_data = [
    ((x ** (S(1) / 2)), 1 / (2 * sqrt(x))),
    (root(x, 4), 1 / (4 * (root(x ** 3, 4)))),
    (1 / (root(x ** 3, 4)), -3 / (4 * x * (root(x ** 2, 4)))),
    ((5 * x + 2) ** (-3), (-15) * ((5 * x + 2) ** (-4))),
    ((2 * x) ** 3, 24 * (x ** 2)),
    (root(7 - 3 * x, 4), -3 / (4 * root((7 - 3 * x) ** 3, 4))),
    (root(5 * x, 3), root(5, 3) / (3 * root(x ** 2, 3))),
    (x ** (-2), -2 / (x ** 3)),
    (root(x, 3), 1 / (3 * root(x ** 2, 3))),
    (1 / (2 + 3 * x) ** 2, -6 / (2 + 3 * x) ** 3),
    (root((3 * x - 2) ** 2, 3), 2 / root(3 * x - 2, 3)),
    ((3 * x - 7) ** (S(1) / 2), 3 / (2 * sqrt(3 * x - 7))),
    (x ** 2 - x, 2 * x - 1),
    (Rational(1, 2) * (x ** 3), Rational(1, 2) * (x ** 2)),
    (x ** 4 + 2 * (x ** 2), 4 * (x ** 3) + 4 * x),
    (2 * (x ** 3) - 3 * (x ** 2) + 6 * x + 1, 6 * (x ** 2) - 6 * x + 6),
    (2 * (root(x, 4)) - sqrt(x), 1 / (2 * (root(x ** 3, 4))) - 1 / (2 * sqrt(x))),
    (sqrt(x) + 1 / x + 1, 1 / (2 * sqrt(x)) - 1 / (x ** 2)),
    (x ** (S(3) / 2) - x ** (-S(3) / 2), (-3 / (2 * sqrt(x ** 3)) + 6 / (x ** 4))),
    (2 * (x ** 3) + 3 * (x ** 2) - 12 * x - 3, 6 * (x ** 2) + 6 * x - 12),
    (3 * (x ** 4) - 4 * (x ** 3) - 12 * (x ** 2), 12 * (x ** 3) - 12 * (x ** 2) - 24 * x),
    ((x + 2) * (root(x, 3)), (4 * x + 2) / (3 * (root(x ** 2, 3)))),
    ((x - 1) * sqrt(x), (3 * x - 1) / (2 * sqrt(x))),
    (((2 * x - 1) ** 5) * ((x + 1) ** 4), ((2 * x - 1) ** 4) * ((1 + x) ** 3) * (18 * x + 6)),
    (((5 * x - 4) ** 6) * (sqrt(3 * x - 2)),
     ((3 * ((5 * x - 4) ** 5)) / (sqrt(3 * x - 2))) * (S(65) / 2 * x) - S(44) / 2),
    (((x - 3) ** 5) * ((2 + 5 * x) ** 6), 5 * ((x - 3) ** 4) * ((2 + 5 * x) ** 5) * (11 * x - 16)),
    ((x ** 5 + x ** 3 + x) / (x + 1),
     (4 * (x ** 5) + 5 * (x ** 4) + 2 * (x ** 3) + 3 * (x ** 2) + 1) / ((x + 1) ** 2)),
    ((sqrt(x) + x ** 2 + 1) / (x - 1),
     (2 * (x ** 2) * (sqrt(x)) - 4 * x * (sqrt(x)) - x - 2 * sqrt(x) - 1) / (2 * sqrt(x) * ((x - 1) ** 2))),
    ((x ** 2 - 1) / (x ** 2) + 1, (4 * x) / (x ** 2 + 1) ** 2),
    ((2 * (x ** 2)) / (1 - 7 * x), ((4 * x) - 14 * (x ** 2)) / (1 - 7 * x) ** 2),
    (((x ** 3) + (x ** 2) + 16) / x, (2 * (x ** 3) + x ** 2 - 16) / (x ** 2)),
    ((x * (root(x, 3)) + 3 * x + 18) / (root(x, 3)), (x * (root(x, 3)) + 2 * x - 6) / (x * (root(x, 3)))),
    ((x ** 2 - 4) / (sqrt(x)), (3 * (x ** 2) + 4) / (2 * x * sqrt(x))),
    (((root(x, 4)) + (1 / (root(x, 4))) * (root(x, 4)) - (1 / (root(x, 4)))), (x + 1) / (2 * x * sqrt(x))),
    (((x - 1) ** 4) * ((x + 1) ** 7), ((x - 1) ** 3) * ((x + 1) ** 6) * (11 * x - 3)),
    ((root(2 * x + 1, 3)) * ((2 * x - 3) ** 3),
     (4 * ((2 * x - 3) ** 2) * (10 * x + 3)) / (3 * root((2 * x + 1) ** 2, S(1) / 3))),
    ((2 * (x ** 2) - 3 * x + 1) / (x + 1), (2 * (x ** 2) + 4 * x - 4) / ((x + 1) ** 2)),
    ((x ** 2 - 3 * x + 4) / (2 * sqrt(x) - x * sqrt(x)),
     (-x ** 3 + 3 * (x ** 2) + 6 * x - 8) / (2 * x * (sqrt(x)) * ((2 - x) ** 2))),
    (2 * (x ** 3) - 3 * (x ** 2) - 12 * x + 1, 6 * (x ** 2) - 6 * x - 12),
    ((2 * x - 1) / (x + 1), 3 / ((x + 1) ** 2)),
    (3 * (x ** 3) / (1 - 3 * x), x > S(1) / 2),
    (exp(x) + x ** 2, exp(x) + 2 * x),
    (exp(S(1) / 2 * x - 1) - sqrt(x - 1), S(1) / 2 * (exp(S(1) / 2 * x - 1)) - 1 / (2 * sqrt(x - 1))),
    (exp(1 - x) + x ** (-3), S(1)),
    (exp(2 * (x ** 3)), 6 * (x ** 2) * (exp(2 * (x ** 3)))),
]

diff_func = lambda arg: diff(arg, x)

integrate_data = [
    ((x ** 3, (x, 2, 4)), 60),
    ((x ** 2 + 1, (x, -2, 1)), 6),
    ((cos(x), (x, -pi / 6, 0)), S(1) / 2),
    ((4 - x ** 2, (x, -2, 2)), 10 + S(2) / 3),
    (((-x) ** 2 + 4 * x - 3, (x, 1, 3)), 1 + S(1) / 3),
    ((1 / (x ** 2), (x, 2, 3)), S(1) / 6),
    ((1 / (sqrt(x)), (x, 4, 9)), 2),
    ((sin(2 * x), (x, -2 * pi, pi)), -1),
    ((1 - 3 * (x ** 2), (x, -1, 2)), -6),
    ((2 * x - (3 / sqrt(x)), (x, 1, 9)), 68),
    (((x + 1 / x) ** 2, (x, 1, 2)), 4 + S(5) / 6),
    (((3 * x - 1) / sqrt(x), (x, 1, 3)), 4 * sqrt(3)),
    (((4 / (3 * x + 2)), (x, 0, 1)), S(4) / 3 * log(S(5) / 2, 10)),
    (((sin(2 * x + pi / 3)), (x, 0, pi / 2)), S(1) / 2),
    ((sin(x) * cos(x), (x, 0, pi / 2)), S(1) / 2),
    (((sin(x) ** 4 + cos(x) ** 4), (x, 0, pi)), 3 * pi / 4),
    (((x ** 2) * sqrt(x + 1), (x, 0, 3)), 3888),
    ((b - 4 * x, (x, 1, b)), b - 2),
    (((x + 1) ** 2, (x, -1, 0)), 0),
    ((x - 1, (x, 0, 1)), S(5) / 6),
    ((1 / (x ** 3), (x, -1, 1)), S(3) / 8),
    ((cos(x), (x, -pi / 2, pi / 2)), 2),
    (((x + 2) ** 2, (x, -2, S(1) / 2)), 0),
    (((x - 3) ** 2, (x, S(1) / 2, 3)), 10 + S(5) / 12),
    ((2 * sqrt(2 * x), (x, 0, 2)), 0),
    ((x ** 2, (x, 0, 2)), S(8) / 3),
    ((x ** 2 - 2 * x + 2, (x, 0, 1)), 0),
    ((-2 * x + 2, (x, 0, 1)), S(1) / 3),
    ((x ** 4 - 2 * (x ** 2) + 5, (x, 0, 1)), 0),
    ((1, (x, 0, 1)), 3 + S(8) / 15),
    (((S(1) / 2) * cos(x + pi / 4), (x, 0, pi / 4)), (2 - sqrt(2)) / 4),
    (((S(1) / 3) * sin(x - pi / 3), (x, 0, pi / 3)), -S(1) / 6),
    ((3 * sin(3 * x - 6), (x, 1, 3)), 0),
    ((8 * cos(4 * x - 12), (x, 0, 3)), 2 * sin(12)),
    ((sqrt(x) * (3 - 7 / x), (x, 1, 4)), 0),
    ((sqrt(2 * x - 3), (x, 2, 6)), 8 + S(2) / 3),
]

integrate_func = lambda args: integrate(*args) 
